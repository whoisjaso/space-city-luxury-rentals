---
phase: 04-fleet-catalog-page
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - app/src/pages/FleetPage.tsx
  - app/src/components/VehicleCard.tsx
  - app/src/components/ExperienceFilter.tsx
  - app/src/hooks/useVehicles.ts
autonomous: true

must_haves:
  truths:
    - "FleetPage displays all active vehicles as cards with hero photo, identity headline, and starting daily price"
    - "VehicleCard shows vehicle image, identity headline (not make/model as primary), name as secondary, and daily price"
    - "ExperienceFilter shows all 6 experience tags and filters vehicles when clicked"
    - "Each vehicle card links to /fleet/:slug detail page"
    - "Page uses TanStack Query to fetch vehicles from Supabase"
    - "Loading state is shown while fetching"
    - "Page falls back to seed data from config if Supabase is not configured"
  artifacts:
    - path: "app/src/pages/FleetPage.tsx"
      provides: "Fleet catalog page with filtering and vehicle grid"
    - path: "app/src/components/VehicleCard.tsx"
      provides: "Vehicle card component with image, headline, price"
    - path: "app/src/components/ExperienceFilter.tsx"
      provides: "Experience tag filter bar"
    - path: "app/src/hooks/useVehicles.ts"
      provides: "TanStack Query hook for fetching vehicles"
---

<objective>
Build the fleet catalog page where users browse Joey's vehicles presented as identity propositions with experience tag filtering.

Purpose: This is the primary vehicle discovery experience. Vehicles are presented with cinematic imagery and identity headlines — not spec sheets. Users can filter by experience (Date Night, Content Ready, Boss Move, etc.) to find vehicles matching their occasion. This page replaces the placeholder FleetPage from Phase 3.

Output: Full fleet page with vehicle cards, experience tag filter, Supabase data fetching (with config fallback), and links to detail pages.
</objective>

<tasks>
<task id="1" name="Create vehicle hooks, components, and fleet page" type="code">
Create the following files:

1. `app/src/hooks/useVehicles.ts`:
   - TanStack Query hook that fetches vehicles from Supabase
   - Query: `supabase.from('vehicles').select('*').eq('is_active', true).order('created_at')`
   - If Supabase is not configured (empty env vars), fall back to hardcoded seed data matching the config.ts fleet
   - The fallback data should use the Vehicle type from types/database.ts
   - Export: useVehicles() → { data: Vehicle[], isLoading, error }

   Fallback seed data (for development without Supabase):
   Build from exhibitionsConfig in config.ts — map each exhibition to a Vehicle object with:
   - slug derived from title (lowercase, hyphenated)
   - headline from the date field (which contains the identity tagline)
   - daily_price_cents parsed from the date field
   - images: [exhibition.image]
   - experience_tags: appropriate tags for each vehicle
   - Add Range Rover Sport and Corvette C8 as additional vehicles

2. `app/src/components/ExperienceFilter.tsx`:
   - Horizontal scrollable row of filter chips/pills
   - Tags: "All", "Date Night", "Content Ready", "Boss Move", "Wedding Day", "Weekend Takeover", "Statement"
   - "All" is selected by default (shows all vehicles)
   - Clicking a tag filters vehicles to those with that experience_tag
   - Active tag styled with gold background (#D4AF37) and dark text
   - Inactive tags: border style with white/50 text, hover effect
   - Horizontal scroll on mobile (overflow-x-auto, hide scrollbar)
   - Props: tags: string[], activeTag: string, onTagChange: (tag: string) => void

3. `app/src/components/VehicleCard.tsx`:
   - Props: vehicle: Vehicle
   - Card displays:
     - Vehicle image (aspect-ratio 4/3, object-cover, with dark gradient overlay at bottom)
     - Identity headline prominently (the vehicle's tagline, e.g., "Move in Silence. Let the Car Do the Talking.")
     - Vehicle name below headline (smaller, museo-label style)
     - Starting daily price (format cents to "$X,XXX/day")
     - Experience tags as small pills at bottom
   - Image hover: scale 1.05 transition
   - Entire card is a Link to /fleet/{vehicle.slug}
   - Use the brand dark background, gold accents for price
   - data-cursor="hover" for custom cursor interaction

4. Replace `app/src/pages/FleetPage.tsx` (currently a placeholder):
   - Page header: "THE FLEET" label + "Who Do You Want to Be This Weekend?" headline
   - ExperienceFilter component
   - Vehicle grid: responsive — 1 col mobile, 2 cols tablet, 3 cols desktop
   - Uses useVehicles hook for data
   - Loading state: skeleton cards or loading spinner
   - Filter logic: if activeTag is "All" show all vehicles, else filter by experience_tags.includes(activeTag)
   - Dark background (#050505)
   - Proper spacing: pt-8, px-8 lg:px-16, max-w-7xl mx-auto
   - Page should have scroll animations: header fades in, cards stagger-reveal on scroll
   - Use GSAP ScrollTrigger for entrance animations (import from lib/gsap)

Commit message: feat(04-01): fleet catalog with vehicle cards, experience filtering, and data hooks
</task>
</tasks>
